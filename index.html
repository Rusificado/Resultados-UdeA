<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Resultados Simulacro de Admisión a la UdeA</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="container" style="padding:20px;max-width:1100px;margin:0 auto;">
    <section class="card form-card" style="margin-bottom:18px;">
      <h1>Resultados Simulacro de Admisión a la UdeA</h1>
      <p class="hint">Ingrese su <strong>nombre</strong> y <strong>primer apellido</strong> tal como aparece en su registro.</p>

      <form id="searchForm" autocomplete="off">
        <div class="row" style="display:flex;gap:12px;flex-wrap:wrap;">
          <input id="firstName" name="firstName" type="text" placeholder="Nombre" required style="flex:1;min-width:180px;padding:10px;border-radius:6px;border:1px solid #ddd" />
          <input id="lastName" name="lastName" type="text" placeholder="Primer apellido" required style="flex:1;min-width:180px;padding:10px;border-radius:6px;border:1px solid #ddd" />
        </div>
        <div style="margin-top:12px;">
          <button class="btn" type="submit" style="background:#0a7a3a;color:#fff;padding:10px 18px;border-radius:8px;border:none;">Consultar resultado</button>
        </div>
      </form>

      <div id="msg" role="status" aria-live="polite" style="margin-top:8px;color:#b00;"></div>
    </section>

    <!-- Preview + inscripción combinadas para que queden bien alineadas -->
    <section id="previewSection" class="card preview-card hidden" style="display:block;">
      <div class="preview-header" style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <h2 id="previewTitle" style="margin:0;">Previsualización</h2>
        <div class="actions" style="display:flex;gap:8px;">
          <button id="printViewBtn" class="btn small" style="padding:6px 10px;border-radius:6px;border:1px solid #ddd">Abrir vista imprimible</button>
          <button id="clearBtn" class="btn small ghost" style="padding:6px 10px;border-radius:6px;border:1px solid #ddd;background:#fff">Limpiar</button>
        </div>
      </div>

      <!-- contenedor flexible para que resultados e inscripción queden lado a lado en pantallas grandes -->
      <div style="display:flex;flex-wrap:wrap;gap:20px;">
        <!-- cuadro de resultados -->
        <div id="pdfPreview" class="pdf-preview" style="flex:1 1 420px;min-width:300px;padding:16px;border-radius:8px;background:#fff;box-shadow:0 1px 6px rgba(0,0,0,0.06);">
          <div class="pdf-top">
            <h3 id="candidateName" style="margin:6px 0 4px 0;font-size:18px">Nombre del aspirante</h3>
            <div id="classAdmission" class="badge" style="margin-bottom:8px;color:#0a7a3a;font-weight:700">Clase: -</div>
          </div>

          <div class="scores" style="margin-top:6px;">
            <div class="score-row" style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0;">
              <div class="label">Razonamiento Lógico</div>
              <div id="rlScore" class="value">- / 100</div>
            </div>
            <div class="score-row" style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0;">
              <div class="label">Comprensión Lectora</div>
              <div id="clScore" class="value">- / 100</div>
            </div>
            <div class="score-row total" style="display:flex;justify-content:space-between;padding:10px 0;font-weight:700;">
              <div class="label">Total</div>
              <div id="totalScore" class="value">- / 100</div>
            </div>
          </div>
        </div>

        <!-- cuadro de inscripción (se muestra SOLO después de consultar resultado exitoso) -->
        <div id="enrollmentCard" style="flex:0 1 320px;min-width:280px;padding:16px;border-radius:8px;background:#fff;box-shadow:0 1px 6px rgba(0,0,0,0.06);display:none;">
          <h3 style="margin-top:0;margin-bottom:8px">Inscribirse a un programa curricular</h3>
          <p style="font-size:13px;color:#666;margin-top:0;margin-bottom:12px;">Selecciona el programa al que deseas inscribirte. Al inscribir se verificará tu puntaje frente al corte del programa.</p>

          <div style="margin-bottom:10px;">
            <label for="programSelect" style="display:block;margin-bottom:6px;font-weight:600;">Programa</label>
            <select id="programSelect" name="programSelect" style="width:100%;padding:10px;border-radius:6px;border:1px solid #ddd;">
              <option value="">-- Selecciona un programa --</option>
              <!-- Opciones inyectadas por script.js usando populatePrograms(list) -->
            </select>
          </div>

          <div style="display:flex;gap:8px;align-items:center;margin-top:8px;">
            <button id="enrollBtn" class="btn" type="button" style="flex:1;padding:10px;border-radius:8px;border:none;background:#0a7a3a;color:#fff;">Inscribirme</button>
          </div>

          <center><div id="enrollMsg" role="status" aria-live="polite" style="margin-top:12px;font-weight:700;"></div> </center>
        </div> 
      </div>
    </section>

  </main>

  <script src="script.js"></script>
</body>
</html>
